(function($){function LAE_Twitter_Grid(){LAE_Block.apply(this,arguments)}LAE_Twitter_Grid.prototype=Object.create(LAE_Grid.prototype);LAE_Twitter_Grid.prototype.constructor=LAE_Twitter_Grid;LAE_Twitter_Grid.prototype._doAjaxBlockProcessResponse=function(cacheHit,response,userAction){var self=this;var responseObj=$.parseJSON(response);if(this.blockId!==responseObj.blockId)return;self.maxId=responseObj.maxId;var $blockElem=$("#"+this.blockId);if("load_more"===userAction){var $blockElementInner=$blockElem.find(".lae-block-inner");var $response=$("<div></div>").html(responseObj.data);$response.imagesLoaded(function(){if(cacheHit==false)$blockElem.removeClass("lae-fetching");var $new_items=$response.children(".lae-block-column");if($new_items.length)$blockElementInner.isotope("insert",$new_items)})}$blockElem.attr("data-current",self.currentPage);$blockElem.attr("data-max-id",self.maxId);if(self.maxId==null){$blockElem.find(".lae-pagination a.lae-load-more").addClass("lae-disabled")}else{$blockElem.find(".lae-pagination a.lae-load-more").removeClass("lae-disabled")}};LAE_Twitter_Grid.prototype.initLightbox=function($blockElem){if($().fancybox===undefined){return}var lightboxSelector=".lae-block"+"."+this.settings["block_class"]+" "+"a.lae-lightbox-item:not(.elementor-clickable)";lightboxSelector+=","+".lae-block"+"."+this.settings["block_class"]+" "+"a.lae-video-lightbox:not(.elementor-clickable)";$blockElem.fancybox({selector:lightboxSelector,loop:true,buttons:["zoom","share","slideShow","fullScreen","thumbs","close"],caption:function(instance,item){var caption="";var title=$(this).data("author-name")||"";var username=$(this).data("author-username")||"";var authorLink=$(this).data("author-link")||"";var postLink=$(this).data("tweet-link")||"";var excerpt=$(this).data("tweet-text")||"";caption+='<div class="lae-tweet-fancybox-caption">';caption+='<a class="lae-twitter-user" href="'+authorLink+'" title="'+title+'">';caption+='<span class="lae-author-name">'+title+"</span>";caption+='<span class="lae-author-username">'+username+"</span>";caption+="<a/>";if(excerpt!==""){caption+='<div class="lae-tweet-text">'+excerpt+"</div>"}caption+="<div/>";return caption}})};LAE_Twitter_Grid.prototype.handleLoadMore=function($target){if(this.is_ajax_running===true)return;var userAction="load_more";this.currentPage++;this.doAjaxBlockRequest(userAction)};var laeTwitterGrids=Object.create(laeGrids);laeTwitterGrids.getBlockObjById=function(blockId){var blockIndex=this._getBlockIndex(blockId);if(blockIndex!==-1)return laeBlockObjColl[blockIndex];var blockObj=new LAE_Twitter_Grid(blockId);laeBlockObjColl.push(blockObj);return blockObj};var WidgetLAETwitterGridHandler=function($scope,$){var $blockElem=$scope.find(".lae-block");var rtl=$blockElem.attr("dir")==="rtl";if($blockElem.find(".lae-module").length===0){return}var currentBlockObj=laeTwitterGrids.getBlockObjById($blockElem.data("block-uid"));var layoutMode=currentBlockObj.settings["layout_mode"];var $blockElemInner=$blockElem.find(".lae-block-inner");$blockElemInner.isotope({itemSelector:".lae-block-column",layoutMode:layoutMode,originLeft:!rtl,transitionDuration:"0.8s"});$blockElemInner.imagesLoaded(function(){$blockElemInner.isotope("layout")});$(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange",function(e){$blockElemInner.isotope("layout")});$scope.find(".lae-pagination a.lae-load-more").on("click",function(e){e.preventDefault();currentBlockObj.handleLoadMore($(this))});currentBlockObj.initLightbox($blockElem)};$(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/lae-twitter-grid.default",WidgetLAETwitterGridHandler)})})(jQuery);