(function($){function LAE_YouTube_Grid(){LAE_Block.apply(this,arguments)}LAE_YouTube_Grid.prototype=Object.create(LAE_Grid.prototype);LAE_YouTube_Grid.prototype.constructor=LAE_YouTube_Grid;LAE_YouTube_Grid.prototype._doAjaxBlockProcessResponse=function(cacheHit,response,userAction){var self=this;var responseObj=$.parseJSON(response);if(this.blockId!==responseObj.blockId)return;self.queryMeta=responseObj.queryMeta;self.remainingItems=responseObj.remainingItems;var $blockElem=$("#"+this.blockId);if("load_more"===userAction){var $blockElementInner=$blockElem.find(".lae-block-inner");var $response=$("<div></div>").html(responseObj.data);$response.imagesLoaded(function(){if(cacheHit==false)$blockElem.removeClass("lae-fetching");var $new_items=$response.children(".lae-block-column");if($new_items.length)$blockElementInner.isotope("insert",$new_items)})}$blockElem.attr("data-current",self.currentPage);$blockElem.attr("data-query-meta",JSON.stringify(self.queryMeta));if(self.remainingItems===0){$blockElem.find(".lae-pagination a.lae-load-more").addClass("lae-disabled")}else{$blockElem.find(".lae-pagination a.lae-load-more").removeClass("lae-disabled")}};LAE_YouTube_Grid.prototype.initLightbox=function($blockElem){if($().fancybox===undefined){return}var lightboxSelector=".lae-block"+"."+this.settings["block_class"]+" "+"a.lae-lightbox-item:not(.elementor-clickable)";lightboxSelector+=","+".lae-block"+"."+this.settings["block_class"]+" "+"a.lae-video-lightbox:not(.elementor-clickable)";$blockElem.fancybox({selector:lightboxSelector,loop:true,buttons:["zoom","share","slideShow","fullScreen","thumbs","close"],caption:function(instance,item){var caption="";var postLink=$(this).attr("href")||"";var title=$(this).attr("title")||"";var description=$(this).data("description")||"";caption+='<div class="lae-fancybox-caption">';caption+='<a class="lae-fancybox-title" href="'+postLink+'" title="'+title+'">'+title+"</a>";if(description!==""){caption+='<div class="lae-fancybox-description">'+description+"</div>"}caption+="<div/>";return caption}})};LAE_YouTube_Grid.prototype.handleLoadMore=function($target){if(this.is_ajax_running===true)return;var userAction="load_more";this.currentPage++;this.doAjaxBlockRequest(userAction)};var laeYouTubeGrids=Object.create(laeGrids);laeYouTubeGrids.getBlockObjById=function(blockId){var blockIndex=this._getBlockIndex(blockId);if(blockIndex!==-1)return laeBlockObjColl[blockIndex];var blockObj=new LAE_YouTube_Grid(blockId);laeBlockObjColl.push(blockObj);return blockObj};var WidgetLAEYouTubeGridHandler=function($scope,$){var $blockElem=$scope.find(".lae-block");var rtl=$blockElem.attr("dir")==="rtl";if($blockElem.find(".lae-module").length===0){return}var currentBlockObj=laeYouTubeGrids.getBlockObjById($blockElem.data("block-uid"));var layoutMode=currentBlockObj.settings["layout_mode"];var $blockElemInner=$blockElem.find(".lae-block-inner");$blockElemInner.isotope({itemSelector:".lae-block-column",layoutMode:layoutMode,originLeft:!rtl,transitionDuration:"0.8s"});$blockElemInner.imagesLoaded(function(){$blockElemInner.isotope("layout")});$(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange",function(e){$blockElemInner.isotope("layout")});$scope.find(".lae-pagination a.lae-load-more").on("click",function(e){e.preventDefault();currentBlockObj.handleLoadMore($(this))});currentBlockObj.initLightbox($blockElem);if($(".g-ytsubscribe").length){tag=document.createElement("script");tag.src="https://apis.google.com/js/platform.js";tag.id="lae-youtube-subscribe-api";script=document.getElementsByTagName("script")[0];script.parentNode.insertBefore(tag,script)}};$(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/lae-youtube-grid.default",WidgetLAEYouTubeGridHandler)})})(jQuery);