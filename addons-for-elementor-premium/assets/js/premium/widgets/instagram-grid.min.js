(function($){function LAE_Instagram_Grid(){LAE_Block.apply(this,arguments)}LAE_Instagram_Grid.prototype=Object.create(LAE_Grid.prototype);LAE_Instagram_Grid.prototype.constructor=LAE_Instagram_Grid;LAE_Instagram_Grid.prototype.initLightbox=function($blockElem){if($().fancybox===undefined){return}var lightboxSelector=".lae-block"+"."+this.settings["block_class"]+" "+"a.lae-lightbox-item:not(.elementor-clickable)";lightboxSelector+=","+".lae-block"+"."+this.settings["block_class"]+" "+"a.lae-video-lightbox:not(.elementor-clickable)";$blockElem.fancybox({selector:lightboxSelector,loop:true,buttons:["zoom","share","slideShow","fullScreen","thumbs","close"],caption:function(instance,item){var caption="";var authorName=$(this).data("author-username");var authorLink=$(this).data("author-link")||"";var readMore=$(this).data("read-more-text");var postLink=$(this).data("post-link")||"";var excerpt=$(this).data("post-text")||"";caption+='<div class="lae-fancybox-caption">';caption+='<a class="lae-fancybox-post-author" href="'+authorLink+'" title="'+authorName+'">'+authorName+"</a>";if(excerpt!==""){caption+='<div class="lae-fancybox-description">'+excerpt+"</div>"}if(readMore!==""){caption+='<a class="lae-fancybox-read-more" href="'+postLink+'" title="'+readMore+'">'+readMore+"</a>"}caption+="<div/>";return caption}})};var laeInstagramGrids=Object.create(laeBlocks);laeInstagramGrids.getBlockObjById=function(blockId){var blockIndex=this._getBlockIndex(blockId);if(blockIndex!==-1)return laeBlockObjColl[blockIndex];var blockObj=new LAE_Instagram_Grid(blockId);laeBlockObjColl.push(blockObj);return blockObj};var WidgetLAEInstagramGridHandler=function($scope,$){var $blockElem=$scope.find(".lae-block");var rtl=$blockElem.attr("dir")==="rtl";if($blockElem.find(".lae-module").length===0){return}var currentBlockObj=laeInstagramGrids.getBlockObjById($blockElem.data("block-uid"));var layoutMode=currentBlockObj.settings["layout_mode"];var $blockElemInner=$blockElem.find(".lae-block-inner");$blockElemInner.isotope({itemSelector:".lae-block-column",layoutMode:layoutMode,originLeft:!rtl,transitionDuration:"0.8s"});$blockElemInner.imagesLoaded(function(){$blockElemInner.isotope("layout")});$(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange",function(e){$blockElemInner.isotope("layout")});currentBlockObj.initLightbox($blockElem)};$(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/lae-instagram-grid.default",WidgetLAEInstagramGridHandler)})})(jQuery);