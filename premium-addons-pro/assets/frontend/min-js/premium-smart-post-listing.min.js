!function(g){g(window).on("elementor/frontend/init",function(){var e=elementorModules.frontend.handlers.Base.extend({settings:{},getDefaultSettings:function(){return{selectors:{user:".fa-user",activeCat:".category.active",loading:".premium-loading-feed",filterTabs:".premium-smart-listing__filter-tabs li a",activeElement:".premium-smart-listing__filter-tabs li .active",widgetWrapper:".premium-smart-listing__wrapper",postsOuterWrapper:".premium-smart-listing__posts-outer-wrapper",currentPage:".premium-smart-listing__pagination-container .page-numbers.current",post:".premium-smart-listing__post-wrapper",listingsWrapper:".premium-smart-listing__posts-wrapper",gridItem:".premium-smart-listing__grid-item",metaSeparators:".premium-smart-listing__meta-separator"}}},getDefaultElements:function(){var e=this.getSettings("selectors");return{$filterTabs:this.$element.find(e.filterTabs),$widgetWrapper:this.$element.find(e.widgetWrapper),$postsOuterWrapper:this.$element.find(e.postsOuterWrapper),$post:this.$element.find(e.post),$listingsWrapper:this.$element.find(e.listingsWrapper)}},bindEvents:function(){this.setWidgetSettings(),this.removeMetaSeparators(),this.run()},setWidgetSettings:function(){var e=this.getElementSettings();this.settings={pageNumber:1,count:2,isLoaded:!0,reqType:"",paginationType:e.pagination_type,infinite:"yes"===e.infinite_scroll,total:this.elements.$post.data("total"),carousel:"yes"===e.carousel,scrollAfter:"yes"===e.scroll_to_offset},this.settings.carousel&&(this.settings.slidesToScroll=e.slides_to_scroll,this.settings.spacing=parseInt(e.carousel_spacing),this.settings.autoPlay="yes"===e.carousel_play,this.settings.fade="yes"===e.carousel_fade,this.settings.center="yes"===e.carousel_center,this.settings.speed=""!==e.carousel_speed?parseInt(e.carousel_speed):300,this.settings.arrows="yes"===e.carousel_arrows,this.settings.autoPlay&&(this.settings.autoplaySpeed=""!==e.carousel_autoplay_speed?parseInt(e.carousel_autoplay_speed):5e3))},run:function(){var e=this.getElementSettings(),t=this;if(1<this.elements.$filterTabs.length)if(this.initFilterTabs(),""!==e.filter_tabs_num){var s="desktop"===elementorFrontend.getCurrentDeviceMode()?"":"_"+elementorFrontend.getCurrentDeviceMode();window.paCurrentMagazineDevice=s,t.reconstructFilterTabs(s),g(window).on("resize.paConstructFilters",function(){s="desktop"===elementorFrontend.getCurrentDeviceMode()?"":"_"+elementorFrontend.getCurrentDeviceMode(),window.paCurrentMagazineDevice!==s&&(e["filter_tabs_num"+s]!==e["filter_tabs_num"+window.paCurrentMagazineDevice]&&t.reconstructFilterTabs(s),window.paCurrentMagazineDevice=s)})}else g(window).off("resize.paConstructFilters");"custom"===e.pa_spl_skin&&this.hideExtraItems(),this.settings.carousel&&(this.elements.$listingsWrapper.slick(this.getSlickSettings()),this.settings.arrows&&this.$element.find(".page-numbers").on("click.paCarouselNav",function(){g(this).hasClass("prev")?t.elements.$listingsWrapper.slick("slickPrev"):g(this).hasClass("next")&&t.elements.$listingsWrapper.slick("slickNext")})),"yes"===e.premium_blog_paging&&this.paginate(),this.settings.infinite&&this.elements.$postsOuterWrapper.is(":visible")&&this.getInfiniteScrollPosts()},hideExtraItems:function(){var e=elementorFrontend.config.experimentalFeatures.container,t=this.$element.find(".premium-extra-item");$parentCol=t.closest(".elementor-widget-premium-grid-item").parents(".e-con").first(),$parentCol=!e||$parentCol.length<1?t.closest(".elementor-top-column"):$parentCol,$parentCol.css({visibility:"hidden",opacity:0})},initFilterTabs:function(){var t=this,s=this.getSettings("selectors");this.elements.$filterTabs.on("click.paFilterTabs",function(e){e.preventDefault(),t.$element.find(s.activeElement).removeClass("active"),g(this).addClass("active"),t.settings.activeCategory=g(this).attr("data-filter"),t.settings.pageNumber=1,t.settings.reqType="filter",t.settings.infinite?(t.getPostsByAjax(!1),t.settings.count=2,t.getInfiniteScrollPosts()):t.getPostsByAjax(t.settings.scrollAfter)})},paginate:function(){var s=this,i=this.$element,r=this.getSettings("selectors");i.on("click",".premium-smart-listing__pagination-container .page-numbers",function(e){if(e.preventDefault(),"default"===s.settings.paginationType)var t=s.settings.pageNumber;else{if(g(this).hasClass("current"))return;t=parseInt(i.find(r.currentPage).html())}g(this).hasClass("next")?s.settings.pageNumber=t+1:g(this).hasClass("prev")?s.settings.pageNumber=t-1:s.settings.pageNumber=g(this).html(),s.getPostsByAjax(s.settings.scrollAfter)})},getInfiniteScrollPosts:function(){var t=jQuery(window).outerHeight()/1.25,s=this;g(window).scroll(function(){if(1<s.elements.$filterTabs.length){var e=s.elements.$postsOuterWrapper.find(".premium-smart-listing__post-wrapper");s.settings.total=e.data("total")}s.settings.count<=s.settings.total&&g(window).scrollTop()+t>=s.$element.find(".premium-smart-listing__post-wrapper:last").offset().top&&1==s.settings.isLoaded&&(s.settings.pageNumber=s.settings.count,s.settings.reqType="infinite",s.getPostsByAjax(!1),s.settings.count++,s.settings.isLoaded=!1)})},getPostsByAjax:function(e){void 0===this.settings.activeCategory&&(this.settings.activeCategory="*");var i=this,r=this.getSettings("selectors");g.ajax({url:PremiumProSettings.ajaxurl,dataType:"json",type:"POST",data:{action:"pa_get_posts",page_id:i.elements.$widgetWrapper.data("page"),widget_id:i.$element.data("id"),page_number:i.settings.pageNumber,req_type:i.settings.reqType,category:i.settings.activeCategory,nonce:PremiumSettings.nonce},beforeSend:function(){i.elements.$postsOuterWrapper.append('<div class="premium-loading-feed"><div class="premium-loader"></div></div>'),e&&g("html, body").animate({scrollTop:i.elements.$postsOuterWrapper.offset().top-50},"slow")},success:function(e){if(e.data){i.$element.find(r.loading).remove();var t=e.data.posts,s=e.data.paging;i.settings.infinite?(i.settings.isLoaded=!0,1<i.elements.$filterTabs.length&&1===i.settings.pageNumber?i.elements.$postsOuterWrapper.html(t):i.elements.$postsOuterWrapper.append(t)):(i.elements.$postsOuterWrapper.html(t),i.$element.find(".premium-smart-listing__footer").html(s)),i.removeMetaSeparators(),"custom"===i.getElementSettings().pa_spl_skin&&i.hideExtraItems()}},error:function(e){console.log(e)}})},getSlickSettings:function(){var e=this.settings,t=this.getElementSettings(),s=t.carousel_rows?t.carousel_rows:1,i=t.listing_cols?t.listing_cols:1,r=t.carousel_rows_tablet?t.carousel_rows_tablet:1,n=t.carousel_rows_mobile?t.carousel_rows_mobile:1,a=t.listing_cols_tablet?t.listing_cols_tablet:1;return{infinite:!0,slidesToShow:i,slidesToScroll:parseInt(e.slidesToScroll||i),responsive:[{breakpoint:1025,settings:{slidesToShow:a,slidesToScroll:1,rows:r}},{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1,rows:n}}],autoplay:e.autoPlay,rows:s,speed:e.speed,autoplaySpeed:e.autoplaySpeed,fade:e.fade,centerMode:e.center,centerPadding:e.spacing+"px",draggable:!0,arrows:!1}},removeMetaSeparators:function(){var r=this.getSettings("selectors");this.$element.find(r.gridItem).each(function(e,t){var s=g(t).find(r.metaSeparators),i=g(t).find(r.user);1===s.length?i.length||g(t).find(r.metaSeparators).remove():i.length||g(t).find(r.metaSeparators).first().remove()})},reconstructFilterTabs:function(e){var t=this.getElementSettings()["filter_tabs_num"+e],s=this.$element.find(".premium-smart-listing__filter-tabs"),i=s.find("li:not(.premium-smart-listing__filter-tabs-menu-wrapper)"),r=s.find(".premium-smart-listing__filter-tabs-menu-wrapper ul"),n=s.find("li:not(.premium-smart-listing__filter-tabs-menu-wrapper):not(.premium-smart-listing__wrapped-filter)"),a=r.find("li");if(t>n.length){i.css("visiblity","hidden");for(var l=t-n.length,o=0;o<l;o++){var p=g(a[o]).removeClass("premium-smart-listing__wrapped-filter").clone();g(a[o]).remove(),s.find(".premium-smart-listing__filter-tabs-menu-wrapper").before(p)}}else if(t<n.length){i.css("visiblity","hidden");for(l=n.length-t,o=1;o<=l;o++){p=g(n[n.length-o]).addClass("premium-smart-listing__wrapped-filter").clone();g(n[n.length-o]).remove(),r.prepend(p)}}this.checkWrappedFilters(),i.css("visiblity","visible")},checkWrappedFilters:function(){0<this.$element.find(".premium-smart-listing__filter-tabs-menu-wrapper ul").children().length?this.$element.find(".premium-smart-listing__filter-tabs-menu-wrapper").show():this.$element.find(".premium-smart-listing__filter-tabs-menu-wrapper").hide()}});elementorFrontend.elementsHandler.attachHandler("premium-smart-post-listing",e)})}(jQuery);